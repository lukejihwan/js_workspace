<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>키보드조작</title>
</head>
<style>
    #stage{
        width: 1000px;
        height: 600px;
        background-image: url("../images/bg_game.png");
        margin: auto;
        position: relative;
        /* 자식의 포지션이 지정되면 반드시 부모도 포지션이 지정되어야 한다... */
    }
    #pic{
        width: 70px;
        position: absolute;
        /* 모든 태그 요소는 개발자가 지정하지 않으면 default로 relative 포지션이 
        지정된다 */
        transform: rotate(90deg);

        left: 100px;
        top: 100px;
    }
</style>
<script>
    let posX = 100;
    let posY = 100;
    const velocity = 10;
    let bgX = 0; //배경이미지의 x좌표
    function move(){
        let pic = document.querySelector("#pic");
        //키보드의 key값중 우측 방향키를 눌렀을때만
        if(event.keyCode === 65){
            //left
            posX = posX - velocity;
            
        }
        else if(event.keyCode === 87){
            //top
            posY = posY - velocity;
        }
        else if(event.keyCode === 83){
            //bottom
            posY = posY + velocity;
        }
        else if(event.keyCode === 68){
            //right
            posX = posX + velocity;
            
        }
        pic.style.left = posX + "px";
        pic.style.top = posY + "px";
    }

    function bgMove(){
        let bg = document.querySelector("#stage");
        //문서내의 stage 요소에 설정된 배경이미지의 위치를
        // 음의 방향으로 움직여보자
        bgX = bgX - 2;
        bg.style.backgroundPosition = bgX + "px 0px";
        setTimeout(bgMove, 16);
    }
</script>
<body onkeydown=move() onload=bgMove()>
    <div id="stage">
        <img id="pic" src="../images/icon_spaceShip.png" alt="">
    </div>
</body>
</html>